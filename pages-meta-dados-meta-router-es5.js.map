{"version":3,"sources":["./src/app/pages/meta-dados/meta.component.html","./src/app/pages/meta-dados/meta.component.css","./src/app/pages/meta-dados/meta.component.ts","./src/app/pages/meta-dados/meta.router.ts","./src/app/service/meta-data.service.ts"],"names":[],"mappings":"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","file":"pages-meta-dados-meta-router-es5.js","sourcesContent":["module.exports = \"<section class=\\\"content\\\">\\n        \\n    <div class=\\\"col-md-12\\\">\\n        \\n        <form [formGroup]=\\\"formCad\\\" (ngSubmit)=\\\"submit()\\\">\\n\\n            <div class=\\\"box\\\">\\n                <div class=\\\"box-header with-border\\\">\\n                    <h3 class=\\\"box-title\\\">{{ title }}</h3>\\n                </div>\\n\\n                <div class=\\\"box-body\\\">\\n\\n                    <app-input [showTip]=\\\"false\\\">\\n                        <label for=\\\"observacao\\\">Descrição</label>\\n                        <textarea class=\\\"form-control\\\" formControlName=\\\"description\\\" rows=\\\"10\\\"></textarea>\\n                    </app-input>\\n                    \\n\\n                    \\n\\n                    <app-input errorMessage=\\\"Este campo é obrigatório\\\" [showTip]=\\\"false\\\">\\n                        <label for=\\\"minimo\\\">Logo</label>\\n                        <input type=\\\"file\\\"  formControlName=\\\"logo\\\" (change)=\\\"fileChangeEventLogo($event)\\\" accept=\\\"image/x-png,image/gif,image/jpeg\\\">\\n                    </app-input>\\n\\n                    <div class=\\\"col-md-12\\\">\\n                        <img [src]=\\\"imgLogo\\\" *ngIf=\\\"imgLogo\\\" width=\\\"250\\\">\\n                    </div>\\n                \\n\\n                    <app-input errorMessage=\\\"Este campo é obrigatório\\\" [showTip]=\\\"false\\\">\\n                        <label for=\\\"minimo\\\">Imagem</label>\\n                        <input type=\\\"file\\\"  formControlName=\\\"image\\\" (change)=\\\"fileChangeEventImg($event)\\\" accept=\\\"image/x-png,image/gif,image/jpeg\\\">\\n                    </app-input>\\n\\n                    <div class=\\\"col-md-12\\\">\\n                        <img [src]=\\\"imgImage\\\" *ngIf=\\\"imgImage\\\" width=\\\"250\\\">\\n                    </div>\\n\\n\\n                   \\n\\n                </div>\\n\\n                <div class=\\\"box-footer clearfix\\\">\\n                    <button class=\\\"btn btn-primary\\\" type=\\\"submit\\\" [disabled]=\\\"formCad.invalid\\\"> <i class=\\\"fa fa-save\\\"></i> Salvar</button>\\n                </div>\\n\\n\\n            </div>\\n        </form>    \\n\\n    </div>\\n\\n</section>\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL21ldGEtZGFkb3MvbWV0YS5jb21wb25lbnQuY3NzIn0= */\"","import { Component, OnInit } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { MetaDataService } from 'src/app/service/meta-data.service';\nimport { NotificationService } from 'src/app/service/notification.service';\nimport { environment } from 'src/environments/environment';\n\n@Component({\n\tselector: 'app-meta',\n\ttemplateUrl: './meta.component.html',\n\tstyleUrls: ['./meta.component.css']\n})\nexport class MetaComponent implements OnInit {\n\tformCad: FormGroup\n\ttitle: string\t\n\timgLogo: string\n\timgImage: string\n\tid = 0\n\t\n\tconstructor(private _metaService: MetaDataService,\n\t\t\t    private _notificationService: NotificationService) { }\n\t\n\tngOnInit() {\n\t\tthis.formCad = new FormGroup({\n\t\t\tid:          new FormControl( '' ),\t\t\t\n\t\t\tdescription: new FormControl('', {validators: [Validators.required]}),\t\t\t\n\t\t\tlogo:        new FormControl(''),\n\t\t\timage:        new FormControl('')\n\t\t})\n\t\tthis.get()\n\t}\n\n\tasync fileChangeEventLogo(event: any) {\n\t\tvar files = event.target.files;\n      \tvar file = files[0];\n\t\t\n\t\tif (files && file) {\n\t\t\tlet retorno: any = await this.convertToBa64(file)\n\t\t\tthis.imgLogo = `data:image/png;base64,${retorno}`\n\t\t\t\n\t\t}\n\t}\n\n\tasync fileChangeEventImg(event: any) {\n\t\tvar files = event.target.files;\n      \tvar file = files[0];\n\t\t\n\t\tif (files && file) {\n\t\t\tlet retorno: any = await this.convertToBa64(file)\n\t\t\tthis.imgImage = `data:image/png;base64,${retorno}`\n\t\t\t\n\t\t}\n\t}\n\n\tconvertToBa64(file){\n\t\treturn new Promise((resolve, reject)=>{\n\t\t\tvar reader = new FileReader();\t\t\t\n\t\t\treader.onload = (event: any) => {\n                const binaryString  = event.target.result;\n\t\t\t\tlet base64 = btoa(binaryString)\n\t\t\t\tresolve( base64 )\n            }\n\t\t\treader.readAsBinaryString(file);\n\t\t})\n\t}\n\n\t\n\n\tsubmit(){\n\t\tconsole.log('submit', this.id);\n\t\t\n\t\tif( this.id == 0 ){\n\t\t\tthis.novo()\n\t\t}else{\n\t\t\tthis.edit()\n\t\t}\n\n\t}\n\n\tnovo(){\n\t\t\n\t\tlet obj: any = {\n\t\t\tdescription: this.formCad.value.description\n\t\t}\n\t\tif( this.imgLogo ) obj.logo = this.imgLogo\n\t\tif( this.imgImage ) obj.image = this.imgImage\n\t\t\n\t\tthis._metaService\n\t\t\t.save( obj )\n\t\t\t.subscribe((response: any)=>{\n\t\t\t\tconsole.log('response',response);\n\t\t\t\tthis.id = response.insertId\n\t\t\t\tlet obj = {\n\t\t\t\t\tmessage: 'Item salvo com sucesso',\n\t\t\t\t\tstatus: true\n\t\t\t\t}\n\t\t\t\tthis._notificationService.notify(obj)\n\t\t\t})\n\n\t}\n\n\tedit(){\n\t\tlet obj: any = {\n\t\t\tdescription: this.formCad.value.description\n\t\t}\n\t\tif( this.imgLogo ) {\n\t\t\tif( !this.imgLogo.includes('http') ){\n\t\t\t\tobj.logo = this.imgLogo\n\t\t\t}\n\t\t}\n\t\tif( this.imgImage ) {\n\t\t\tif( !this.imgImage.includes('http') ){\n\t\t\t\tobj.image = this.imgImage\n\t\t\t}\n\n\t\t}\n\n\t\tthis._metaService\n\t\t\t.update(this.id, obj)\n\t\t\t.subscribe((response: any)=>{\n\t\t\t\tconsole.log('update',response);\n\t\t\t\t\n\t\t\t\tlet obj = {\n\t\t\t\t\tmessage: 'Item salvo com sucesso',\n\t\t\t\t\tstatus: true\n\t\t\t\t}\n\t\t\t\tthis._notificationService.notify(obj)\n\t\t\t})\n\t}\n\n\tget(){\n\t\tthis._metaService\n\t\t\t.getAll()\n\t\t\t.subscribe(async(response: any)=>{\t\t\t\t\n\t\t\t\t\n\t\t\t\tif(response.length > 0){\n\t\t\t\t\tthis.title = 'Editar texto da meta'\n\t\t\t\t\tlet dados = response[0]\n\t\t\t\t\tthis.id = dados.id\n\t\t\t\t\tlet host = environment.host\n\t\t\t\t\tif( dados.logo ) {\n\t\t\t\t\t\tthis.imgLogo = `${host}/foto/${dados.logo}`\n\t\t\t\t\t}\t\n\t\t\t\t\tif( dados.image ) {\n\t\t\t\t\t\tthis.imgImage = `${host}/foto/${dados.image}`\n\t\t\t\t\t}\t\t\t\t\t\t\n\t\t\t\t\tthis.formCad.controls.description.setValue( dados.description )\n\t\t\t\t}\n\t\t\t})\n\t}\n\n\t\n\t\n}\n","import { NgModule } from \"@angular/core\";\r\nimport { RouterModule } from \"@angular/router\";\r\nimport { SharedModule } from \"src/app/shared/shared.module\";\r\nimport { MetaComponent } from \"./meta.component\";\r\n\r\nconst ROUTES = [\r\n    {path: '', component: MetaComponent}\r\n]\r\n\r\n@NgModule({\r\n    declarations: [MetaComponent],\r\n    imports: [SharedModule, RouterModule.forChild( ROUTES )]\r\n})\r\n\r\nexport class MetaRoutes{}","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { environment } from 'src/environments/environment';\n\n@Injectable({\n\tprovidedIn: 'root'\n})\nexport class MetaDataService {\n\t\n\tprivate webService: string\n  \tconstructor(private _http: HttpClient) { \n\t\tthis.webService = `${environment.api}/meta`\n\t}\n\n\tsave(data: any){\n\t\treturn this._http.post(this.webService, data)\n\t}\n\n\tgetAll(){\n\t\treturn this._http.get(this.webService)\n\t}\n\n\tupdate(id: number, obj: any){\n\t\treturn this._http.put(`${this.webService}/${id}`, obj)\n\t}\n}\n"],"sourceRoot":""}